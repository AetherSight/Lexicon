"""
FFXIV装备标签体系定义
定义了装备图片需要标注的各种属性标签
"""

# 颜色标签
COLOR_LABELS = [
    "金色", "银色", "黑色", "白色", "红色", "蓝色", "绿色", 
    "紫色", "黄色", "橙色", "粉色", "棕色", "灰色", "透明",
    "彩虹色", "渐变色"
]

# 材质标签
MATERIAL_LABELS = [
    "金属", "布料", "皮革", "透明材质", "发光材质", "哑光", 
    "光泽", "磨砂", "丝绸", "毛皮", "水晶", "宝石", "木质",
    "石质", "骨质", "陶瓷", "玻璃", "塑料", "橡胶", "纤维",
    "合金", "精钢", "秘银", "龙鳞", "羽毛材质", "鳞片",
    "甲壳", "硬质", "软质", "弹性", "韧性", "脆性",
    "粗糙", "光滑", "细腻", "粗糙纹理", "编织", "针织",
    "皮革质感", "金属质感", "布料质感", "反光", "不反光"
]

# 形状特征标签
SHAPE_LABELS = [
    "细", "粗", "扁", "圆", "方", "尖", "长", "短", "宽", 
    "窄", "厚", "薄", "弯曲", "直线", "对称", "不对称",
    "椭圆形", "三角形", "菱形", "五角形", "六角形", "八角形",
    "圆柱形", "圆锥形", "球形", "立方体", "扁平", "立体",
    "流线型", "棱角分明", "圆润", "尖锐", "钝角", "锐角",
    "曲线", "折线", "波浪形", "螺旋形", "锯齿形", "不规则",
    "规整", "紧凑", "松散", "密集", "稀疏", "均匀", "不均匀",
    "层次感", "立体感", "平面", "凹凸", "起伏", "平滑"
]

# 装饰元素标签
DECORATION_LABELS = [
    "蝴蝶结", "花纹", "图案", "宝石装饰", "链条", "羽毛", 
    "流苏", "蕾丝", "刺绣", "雕刻", "镶嵌", "徽章", "符号",
    "条纹", "斑点", "网格", "几何图案", "花朵", "叶子", "藤蔓",
    "龙纹", "凤凰纹", "云纹", "水波纹", "火焰纹", "雷电纹",
    "星形", "月牙", "太阳", "十字", "五角星", "六芒星",
    "圆环", "螺旋", "漩涡", "齿轮", "锁链", "铆钉", "扣子",
    "拉链", "纽扣", "皮带扣", "金属环", "金属片", "金属条",
    "宝石", "珍珠", "水晶", "钻石", "玉石", "玛瑙", "琥珀",
    "金属丝", "金属链", "金属扣", "金属装饰", "金属边框",
    "刺绣图案", "印花", "烫金", "烫银", "压花", "浮雕",
    "镂空", "穿孔", "编织图案", "针织图案", "拼贴", "拼接",
    "补丁", "贴片", "勋章", "肩章", "袖章", "胸章",
    "腰带扣", "皮带", "束带", "绑带", "系带", "绳结",
    "流苏装饰", "穗子", "毛球", "绒球", "球状装饰", "吊坠",
    "挂件", "配饰", "装饰带", "装饰条", "装饰边", "装饰线",
    "花边", "蕾丝边", "荷叶边", "波浪边", "锯齿边", "圆边",
    "尖角", "圆角", "装饰角", "装饰点", "装饰面"
]

# 风格标签
STYLE_LABELS = [
    "古典", "现代", "华丽", "简约", "暗黑", "光明", "优雅",
    "粗犷", "精致", "复古", "未来感", "奇幻", "军事风", 
    "休闲", "正式", "哥特式", "巴洛克", "洛可可", "维多利亚",
    "蒸汽朋克", "赛博朋克", "废土风", "末日风", "魔法风",
    "科技风", "机械风", "工业风", "自然风", "田园风", "都市风",
    "东方风格", "西方风格", "日式", "中式", "欧式", "美式",
    "民族风", "部落风", "原始风", "文明风", "野蛮风",
    "贵族风", "平民风", "骑士风", "法师风", "盗贼风", "战士风",
    "圣职风", "暗黑风", "光明风", "神圣风", "邪恶风", "中性风",
    "男性化", "女性化", "中性化", "硬朗", "柔美", "刚柔并济",
    "庄重", "活泼", "严肃", "轻松", "随意", "隆重",
    "日常", "战斗", "仪式", "庆典", "节日", "特殊场合",
    "高级", "普通", "奢华", "朴素", "昂贵", "平价", "稀有",
    "传说", "史诗", "神话", "独特", "标准", "定制"
]

# 特殊效果标签
EFFECT_LABELS = [
    "发光", "闪烁", "粒子效果", "光晕", "阴影", "反射",
    "半透明", "全透明", "渐变", "纹理"
]

# 装备部位特定标签（根据装备类型动态使用）
EQUIPMENT_TYPE_LABELS = {
    "上装": ["领口", "袖子", "下摆", "腰带", "肩部装饰", "背部装饰"],
    "下装": ["裤腿", "裙摆", "腰带", "侧边装饰"],
    "大剑": ["剑刃", "剑柄", "护手", "剑尖", "装饰纹路"],
    "单手剑": ["剑刃", "剑柄", "护手", "剑鞘"],
    "法杖": ["杖身", "杖头", "装饰", "宝石"],
    "弓": ["弓身", "弓弦", "装饰", "箭袋"],
    "盾牌": ["盾面", "边缘", "中心装饰", "握把"],
    "头盔": ["顶部", "面罩", "护额", "装饰"],
    "手套": ["手指", "手背", "手腕", "装饰"],
    "靴子": ["鞋底", "鞋面", "鞋跟", "装饰"],
}

def get_all_labels():
    """获取所有标签列表"""
    all_labels = []
    all_labels.extend(COLOR_LABELS)
    all_labels.extend(MATERIAL_LABELS)
    all_labels.extend(SHAPE_LABELS)
    all_labels.extend(DECORATION_LABELS)
    all_labels.extend(STYLE_LABELS)
    all_labels.extend(EFFECT_LABELS)
    return all_labels

def get_prompt_template(equipment_type: str) -> str:
    """根据装备类型生成标注提示词模板"""
    type_specific = EQUIPMENT_TYPE_LABELS.get(equipment_type, [])
    
    prompt = f"""你是一个专业的FFXIV装备图片标注专家。请仔细分析这张装备图片，为装备打上准确的标签。

装备类型：{equipment_type}

请从以下标签类别中选择所有适用的标签：

1. **颜色**：{', '.join(COLOR_LABELS)}
2. **材质**：{', '.join(MATERIAL_LABELS)}
3. **形状特征**：{', '.join(SHAPE_LABELS)}
4. **装饰元素**：{', '.join(DECORATION_LABELS)}
5. **风格**：{', '.join(STYLE_LABELS)}
6. **特殊效果**：{', '.join(EFFECT_LABELS)}
"""
    
    if type_specific:
        prompt += f"7. **{equipment_type}特定特征**：{', '.join(type_specific)}\n"
    
    prompt += """
请仔细分析图片，只选择确实存在的标签，不要过度标注。

**重要：输出格式必须严格按照以下JSON格式，不要添加任何其他文字：**

{
    "colors": ["标签1", "标签2"],
    "materials": ["标签1"],
    "shapes": ["标签1", "标签2"],
    "decorations": ["标签1"],
    "styles": ["标签1"],
    "effects": ["标签1"],
    "type_specific": ["标签1"]
}

注意：
- 如果某个类别没有适用的标签，使用空数组 []
- 标签名称必须完全匹配上面提供的标签列表
- 只输出纯JSON，不要添加任何解释、说明或markdown代码块"""
    
    return prompt

